Started GET "/" for 127.0.0.1 at 2019-02-24 15:16:20 +0200
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.2) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.2) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.6) lib/rack/method_override.rb:22:in `call'
rack (2.0.6) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.6) lib/rack/sendfile.rb:111:in `call'
railties (5.2.2) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ bin/rails:9
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateRestaurants (20190224131511)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "start" time, "end" time, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20190224131511_create_restaurants.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190224131511"]]
  â†³ bin/rails:9
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-02-24 13:16:40.079827"], ["updated_at", "2019-02-24 13:16:40.079827"]]
  â†³ bin/rails:9
  [1m[35m (4.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for 127.0.0.1 at 2019-02-24 15:16:46 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/sergey/.rvm/gems/ruby-2.5.1/gems/railties-5.2.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/sergey/.rvm/gems/ruby-2.5.1/gems/railties-5.2.2/lib/rails/templates/rails/welcome/index.html.erb (1.5ms)
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 0.0ms)


Started GET "/restaurants/" for 127.0.0.1 at 2019-02-24 15:16:59 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 508ms (Views: 505.1ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2019-02-24 15:18:22 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 152ms (Views: 145.2ms | ActiveRecord: 0.4ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateTables (20190224132008)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/migrate/20190224132008_create_tables.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  â†³ db/migrate/20190224132008_create_tables.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  â†³ db/migrate/20190224132008_create_tables.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190224132008"]]
  â†³ bin/rails:9
  [1m[35m (6.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for 127.0.0.1 at 2019-02-24 15:22:41 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 202ms (Views: 190.3ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/new" for 127.0.0.1 at 2019-02-24 15:24:42 +0200
Processing by RestaurantsController#new as HTML
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (25.1ms)
  Rendered restaurants/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 47ms (Views: 39.7ms | ActiveRecord: 0.4ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:24:51 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (3.1ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:29:34 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 20ms (Views: 16.8ms | ActiveRecord: 0.4ms)


Started GET "/restaurants/new" for 127.0.0.1 at 2019-02-24 15:29:35 +0200
Processing by RestaurantsController#new as HTML
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (6.7ms)
  Rendered restaurants/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 50ms (Views: 28.1ms | ActiveRecord: 1.5ms)


Started POST "/restaurants" for 127.0.0.1 at 2019-02-24 15:30:07 +0200
Processing by RestaurantsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jIVFLd4b7nxnFRIVvsyWTCaXKs+x4WRtXt7SOFx3OGF3iGqtXJRL4NQArbcm03uWqCpHDWH+aNnkncdirFmLdA==", "restaurant"=>{"title"=>"Bingo", "start(1i)"=>"2019", "start(2i)"=>"2", "start(3i)"=>"24", "start(4i)"=>"09", "start(5i)"=>"00", "end(1i)"=>"2019", "end(2i)"=>"2", "end(3i)"=>"24", "end(4i)"=>"23", "end(5i)"=>"00"}, "commit"=>"Create Restaurant"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/restaurants_controller.rb:31
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("title", "start", "end", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Bingo"], ["start", "2000-01-01 09:00:00"], ["end", "2000-01-01 23:00:00"], ["created_at", "2019-02-24 13:30:07.009715"], ["updated_at", "2019-02-24 13:30:07.009715"]]
  â†³ app/controllers/restaurants_controller.rb:31
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/restaurants_controller.rb:31
Redirected to http://localhost:3000/restaurants/1
Completed 302 Found in 14ms (ActiveRecord: 5.8ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:30:07 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.7ms)
  Rendered restaurants/show.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"tables", :id=>nil, :restaurant_id=>1}, possible unmatched constraints: [:id]):
    1: <h2>Tables</h2>
    2: <% @restaurant.tables.each do |table| %>
    3:   <p><%= table.id %>
    4:   | <%= link_to 'Show', restaurant_table_path(restaurant_id: @restaurant.id, id: table.id) %> 
    5:   | <%= link_to 'Edit', edit_restaurant_table_path(restaurant_id: @restaurant.id, id: table.id) %> 
    6:   | <%= link_to 'Destroy', [table.restaurant, table], method: :delete, data: { confirm: 'Are you sure?' } %>
    7:   </p>
  
app/views/tables/_index.html.erb:4:in `block in _app_views_tables__index_html_erb___2666410258132870929_69983920840900'
app/views/tables/_index.html.erb:2:in `_app_views_tables__index_html_erb___2666410258132870929_69983920840900'
app/views/restaurants/show.html.erb:18:in `_app_views_restaurants_show_html_erb__2303146362666405680_69983920500100'
Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:31:42 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (1.0ms)
  Rendered tables/_form.html.erb (103.8ms)
  Rendered tables/_new.html.erb (104.5ms)
  Rendered restaurants/show.html.erb within layouts/application (106.9ms)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `tables_path' for #<#<Class:0x00007f4cce11e0c8>:0x00007f4cccafd528>
Did you mean?  asset_path):
    1: <%= form_with(model: table, local: true) do |form| %>
    2:   <% if table.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(table.errors.count, "error") %> prohibited this table from being saved:</h2>
  
app/views/tables/_form.html.erb:1:in `_app_views_tables__form_html_erb___1925338149751801210_69983913963620'
app/views/tables/_new.html.erb:3:in `_app_views_tables__new_html_erb__180955104115929470_69983913990840'
app/views/restaurants/show.html.erb:19:in `_app_views_restaurants_show_html_erb__2303146362666405680_69983914162120'
Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:32:52 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.7ms)
  Rendered tables/_form.html.erb (16.1ms)
  Rendered tables/_new.html.erb (17.5ms)
  Rendered restaurants/show.html.erb within layouts/application (23.4ms)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:33:54 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.4ms)
  Rendered tables/_form.html.erb (14.3ms)
  Rendered tables/_new.html.erb (15.7ms)
  Rendered restaurants/show.html.erb within layouts/application (22.4ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 0.4ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:33:57 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 34ms (Views: 32.3ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:34:00 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.7ms)
  Rendered tables/_form.html.erb (4.3ms)
  Rendered tables/_new.html.erb (6.6ms)
  Rendered restaurants/show.html.erb within layouts/application (13.8ms)
Completed 200 OK in 47ms (Views: 42.3ms | ActiveRecord: 0.4ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:34:04 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 0.6ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:34:06 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.6ms)
  Rendered tables/_form.html.erb (2.9ms)
  Rendered tables/_new.html.erb (4.4ms)
  Rendered restaurants/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 0.8ms)


Started POST "/restaurants/1/tables" for 127.0.0.1 at 2019-02-24 15:34:08 +0200
Processing by TablesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"w3b6ftodKpPHbNNJ6HW9l3j6htXX0T8RVZw6MOc7MQP+2HACo5b9c95BV3PqlHAMBLnToRrHyVclDCkGvwt8pA==", "table"=>{"restaurant_id"=>"1"}, "commit"=>"Create Table", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:27
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/tables_controller.rb:30
  [1m[36mTable Create (0.5ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["restaurant_id", 1], ["created_at", "2019-02-24 13:34:08.197626"], ["updated_at", "2019-02-24 13:34:08.197626"]]
  â†³ app/controllers/tables_controller.rb:30
  [1m[35m (7.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/tables_controller.rb:30
Redirected to http://localhost:3000/restaurants/1/tables/1
Completed 302 Found in 17ms (ActiveRecord: 8.1ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:34:08 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (110.7ms)
Completed 500 Internal Server Error in 118ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined method `edit_table_path' for #<#<Class:0x00007f4ccdcc1f20>:0x00007f4ccdcb5dd8>
Did you mean?  edit_restaurant_table_path):
    5:   <%= @table.restaurant %>
    6: </p>
    7: 
    8: <%= link_to 'Edit', edit_table_path(@table) %> |
    9: <%= link_to 'Back', tables_path %>
  
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__3062201933648196961_69983923477020'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:36:10 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 49ms (Views: 40.7ms | ActiveRecord: 0.9ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:36:14 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:36:35 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 31ms (Views: 27.1ms | ActiveRecord: 0.4ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:36:38 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (5.6ms)
  Rendered tables/_form.html.erb (2.6ms)
  Rendered tables/_new.html.erb (4.4ms)
  Rendered restaurants/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 40ms (Views: 34.0ms | ActiveRecord: 0.8ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:36:43 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 26ms (Views: 20.6ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:36:44 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.2ms)
  Rendered tables/_form.html.erb (2.7ms)
  Rendered tables/_new.html.erb (3.9ms)
  Rendered restaurants/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 35ms (Views: 30.1ms | ActiveRecord: 0.5ms)


Started POST "/restaurants/1/tables" for 127.0.0.1 at 2019-02-24 15:36:45 +0200
Processing by TablesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PMJM2DcKkMXkHjRN6c+jWybYmu16YgJNSR7v1nijhnIBbMakToFHJf0zsHfrLm7AWpvPmbd09As5jvzgIJPL1Q==", "table"=>{"restaurant_id"=>"1"}, "commit"=>"Create Table", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:27
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/tables_controller.rb:30
  [1m[36mTable Create (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["restaurant_id", 1], ["created_at", "2019-02-24 13:36:45.974769"], ["updated_at", "2019-02-24 13:36:45.974769"]]
  â†³ app/controllers/tables_controller.rb:30
  [1m[35m (6.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/tables_controller.rb:30
Redirected to http://localhost:3000/restaurants/1/tables/2
Completed 302 Found in 12ms (ActiveRecord: 6.5ms)


Started GET "/restaurants/1/tables/2" for 127.0.0.1 at 2019-02-24 15:36:45 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"2"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (0.4ms)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.2ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:36:47 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.5ms)
  Rendered tables/_form.html.erb (8.2ms)
  Rendered tables/_new.html.erb (9.3ms)
  Rendered restaurants/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 47ms (Views: 39.3ms | ActiveRecord: 0.7ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:36:59 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 35ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/edit" for 127.0.0.1 at 2019-02-24 15:37:26 +0200
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (13.4ms)
  Rendered restaurants/edit.html.erb within layouts/application (16.9ms)
Completed 200 OK in 43ms (Views: 37.3ms | ActiveRecord: 0.4ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 15:37:29 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 33ms (Views: 29.1ms | ActiveRecord: 0.4ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 15:37:41 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.8ms)
  Rendered tables/_form.html.erb (1.2ms)
  Rendered tables/_new.html.erb (1.9ms)
  Rendered restaurants/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:38:12 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.2ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateBookings (20190224134506)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/migrate/20190224134506_create_bookings.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "date" datetime, "duration" integer, "user" varchar, "table_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_93e1395b7b"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
)[0m
  â†³ db/migrate/20190224134506_create_bookings.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_bookings_on_table_id" ON "bookings" ("table_id")[0m
  â†³ db/migrate/20190224134506_create_bookings.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20190224134506"]]
  â†³ bin/rails:9
  [1m[35m (7.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:49:42 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  Rendered tables/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 227ms (Views: 190.3ms | ActiveRecord: 1.2ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:55:49 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (15.4ms)
  Rendered tables/_form.html.erb (19.8ms)
  Rendered bookings/_new.html.erb (289.3ms)
  Rendered tables/show.html.erb within layouts/application (307.5ms)
Completed 500 Internal Server Error in 325ms (ActiveRecord: 3.1ms)


  
ActionView::Template::Error (undefined local variable or method `bookings_path' for #<#<Class:0x0000563a25366c98>:0x0000563a2564df88>):
    2: 
    3: <%= render 'form', booking: @booking %>
    4: 
    5: <%= link_to 'Back', bookings_path %>
  
app/views/bookings/_new.html.erb:5:in `_app_views_bookings__new_html_erb__2377532731848386075_47403855850620'
app/views/tables/show.html.erb:9:in `_app_views_tables_show_html_erb__1701361629578745_47403867770360'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:56:34 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.4ms)
  Rendered bookings/_new.html.erb (2.6ms)
  Rendered tables/show.html.erb within layouts/application (9.7ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (Missing partial booking/_form with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/home/sergey/Projects/reservation/app/views"
):
    1: <h1>New Booking</h1>
    2: 
    3: <%= render 'booking/form', booking: @booking %>
  
app/views/bookings/_new.html.erb:3:in `_app_views_bookings__new_html_erb__2377532731848386075_70284239560540'
app/views/tables/show.html.erb:9:in `_app_views_tables_show_html_erb__1701361629578745_70284239626980'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:57:12 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.8ms)
  Rendered bookings/_form.html.erb (3.0ms)
  Rendered bookings/_new.html.erb (4.2ms)
  Rendered tables/show.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: booking, local: true) do |form| %>
    2:   <% if booking.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(booking.errors.count, "error") %> prohibited this booking from being saved:</h2>
    5: 
  
app/views/bookings/_form.html.erb:2:in `block in _app_views_bookings__form_html_erb___1430556844193515246_70284236216560'
app/views/bookings/_form.html.erb:1:in `_app_views_bookings__form_html_erb___1430556844193515246_70284236216560'
app/views/bookings/_new.html.erb:3:in `_app_views_bookings__new_html_erb__2377532731848386075_70284236262440'
app/views/tables/show.html.erb:9:in `_app_views_tables_show_html_erb__1701361629578745_70284236471960'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 15:59:16 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:64
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.7ms)
  Rendered bookings/_form.html.erb (4.2ms)
  Rendered bookings/_new.html.erb (5.6ms)
  Rendered tables/show.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `model_name' for nil:NilClass):
    1: <%= form_with(model: [@restaurant, @table, @booking], local: true) do |form| %>
    2:   <% if @booking.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@booking.errors.count, "error") %> prohibited this booking from being saved:</h2>
  
app/views/bookings/_form.html.erb:1:in `_app_views_bookings__form_html_erb___1430556844193515246_70284226409380'
app/views/bookings/_new.html.erb:3:in `_app_views_bookings__new_html_erb__2377532731848386075_70284226459620'
app/views/tables/show.html.erb:9:in `_app_views_tables_show_html_erb__1701361629578745_70284226962880'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:01:12 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.8ms)
  Rendered tables/show.html.erb within layouts/application (4.0ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb__2250204290430331209_70284233244080'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb__2250204290430331209_70284233244080'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__1701361629578745_70284233388460'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:03:47 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.0ms)
  Rendered tables/show.html.erb within layouts/application (4.3ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb__2250204290430331209_70284236624720'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb__2250204290430331209_70284236624720'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__1701361629578745_70284236671320'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:04:58 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.1ms)
  Rendered tables/show.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb__2250204290430331209_70284240159680'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb__2250204290430331209_70284240159680'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__1701361629578745_70284238561780'
Started GET "/" for 127.0.0.1 at 2019-02-24 16:05:42 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:05:44 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.7ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (8.9ms)
  Rendered tables/_form.html.erb (2.6ms)
  Rendered tables/_new.html.erb (4.2ms)
  Rendered restaurants/show.html.erb within layouts/application (18.1ms)
Completed 200 OK in 44ms (Views: 37.5ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:05:46 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (5.5ms)
  Rendered tables/show.html.erb within layouts/application (8.9ms)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb__2250204290430331209_70284229919140'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb__2250204290430331209_70284229919140'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__1701361629578745_70284324910140'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:10:46 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.3ms)
  Rendered tables/show.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb__2250204290430331209_70284237042240'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb__2250204290430331209_70284237042240'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb__1701361629578745_70284237061040'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:14:31 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.4ms)
  Rendered bookings/_form.html.erb (17.1ms)
  Rendered bookings/_new.html.erb (18.2ms)
  Rendered tables/show.html.erb within layouts/application (24.3ms)
Completed 200 OK in 56ms (Views: 45.7ms | ActiveRecord: 1.0ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:14:50 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H4O5gkolqdJndw+RZ2DNCIFoeXVBZVgZWhOvbWnmfuh1fCVRu+rGfJ31pGEkFbkp9kxQulsT+uXmIQbZv/39Eg==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"19", "date(5i)"=>"00", "duration"=>"60", "user"=>"S", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("date", "duration", "user", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["date", "2019-02-24 19:00:00"], ["duration", 60], ["user", "S"], ["table_id", 1], ["created_at", "2019-02-24 14:14:50.861443"], ["updated_at", "2019-02-24 14:14:50.861443"]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/1/bookings/1
Completed 302 Found in 16ms (ActiveRecord: 6.0ms)


Started GET "/restaurants/1/tables/1/bookings/1" for 127.0.0.1 at 2019-02-24 16:14:50 +0200
Processing by BookingsController#show as HTML
  Parameters: {"restaurant_id"=>"1", "table_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:66
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ? AND "bookings"."id" = ? LIMIT ?[0m  [["table_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:67
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (116.5ms)
Completed 500 Internal Server Error in 121ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `edit_booking_path' for #<#<Class:0x00007fd8a6734c28>:0x00007fd8a672f200>):
    20:   <%= @booking.table %>
    21: </p>
    22: 
    23: <%= link_to 'Edit', edit_booking_path(@booking) %> |
    24: <%= link_to 'Back', bookings_path %>
  
app/views/bookings/show.html.erb:23:in `_app_views_bookings_show_html_erb__3839330731798745287_70284241119800'
Started GET "/restaurants/1/tables/1/bookings/1" for 127.0.0.1 at 2019-02-24 16:16:50 +0200
Processing by BookingsController#show as HTML
  Parameters: {"restaurant_id"=>"1", "table_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:65
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:66
  [1m[36mBooking Load (0.6ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ? AND "bookings"."id" = ? LIMIT ?[0m  [["table_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:67
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 36ms (Views: 26.5ms | ActiveRecord: 1.2ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:16:52 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (5.4ms)
  Rendered bookings/_form.html.erb (6.8ms)
  Rendered bookings/_new.html.erb (8.4ms)
  Rendered tables/show.html.erb within layouts/application (17.8ms)
Completed 200 OK in 46ms (Views: 36.1ms | ActiveRecord: 1.0ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:17:10 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jUyH85MqCDz698p8edRlL2cNult9RIOh2ow9KxNhvUM5tsg4uXRf6cfGrzQOvO2OMeDEuD45zUi1+Vyl16C3Aw==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"16", "date(5i)"=>"16", "duration"=>"30", "user"=>"", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.1ms)
  Rendered bookings/_form.html.erb (5.7ms)
  Rendered bookings/_new.html.erb (6.8ms)
  Rendered tables/show.html.erb within layouts/application (10.8ms)
Completed 200 OK in 34ms (Views: 28.8ms | ActiveRecord: 0.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings"[0m
  â†³ db/schema.rb:15
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/schema.rb:15
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "date" datetime, "duration" integer, "user" varchar, "table_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:15
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX "index_bookings_on_table_id" ON "bookings" ("table_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  â†³ db/schema.rb:25
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "start" time, "end" time, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:25
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables"[0m
  â†³ db/schema.rb:33
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:33
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  â†³ db/schema.rb:33
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (6.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190224134506)[0m
  â†³ db/schema.rb:13
  [1m[35m (5.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190224131511),
(20190224132008);

[0m
  â†³ db/schema.rb:13
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-02-24 14:20:36.384680"], ["updated_at", "2019-02-24 14:20:36.384680"]]
  â†³ db/schema.rb:13
  [1m[35m (5.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bookings"[0m
  â†³ db/schema.rb:15
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ db/schema.rb:15
  [1m[35m (150.3ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "date" datetime, "duration" integer, "user" varchar, "table_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:15
  [1m[35m (7.9ms)[0m  [1m[35mCREATE  INDEX "index_bookings_on_table_id" ON "bookings" ("table_id")[0m
  â†³ db/schema.rb:15
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants"[0m
  â†³ db/schema.rb:25
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "start" time, "end" time, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:25
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables"[0m
  â†³ db/schema.rb:33
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "restaurant_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:33
  [1m[35m (7.8ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  â†³ db/schema.rb:33
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ db/schema.rb:13
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ db/schema.rb:13
  [1m[35m (6.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20190224134506)[0m
  â†³ db/schema.rb:13
  [1m[35m (5.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20190224131511),
(20190224132008);

[0m
  â†³ db/schema.rb:13
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ db/schema.rb:13
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-02-24 14:20:36.636509"], ["updated_at", "2019-02-24 14:20:36.636509"]]
  â†³ db/schema.rb:13
  [1m[35m (5.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ db/schema.rb:13
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = ?, "updated_at" = ? WHERE "ar_internal_metadata"."key" = ?[0m  [["value", "test"], ["updated_at", "2019-02-24 14:20:36.649370"], ["key", "environment"]]
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (5.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/bin/rake:23
Started GET "/" for 127.0.0.1 at 2019-02-24 16:21:17 +0200
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /home/sergey/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.2/lib/active_record/log_subscriber.rb:98
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 124ms (Views: 116.4ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/new" for 127.0.0.1 at 2019-02-24 16:21:19 +0200
Processing by RestaurantsController#new as HTML
  Rendering restaurants/new.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (10.4ms)
  Rendered restaurants/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 71ms (Views: 44.1ms | ActiveRecord: 1.4ms)


Started POST "/restaurants" for 127.0.0.1 at 2019-02-24 16:21:39 +0200
Processing by RestaurantsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"naFd6/0zX7iI0OrDPPTDT3A0KZ/gwufzoIQcw5yFn3NmrHJrf7z6JDvFVWGk6y6V/olEXTDd60caxwmZbKssZg==", "restaurant"=>{"title"=>"Bingo", "start(1i)"=>"2019", "start(2i)"=>"2", "start(3i)"=>"24", "start(4i)"=>"09", "start(5i)"=>"00", "end(1i)"=>"2019", "end(2i)"=>"2", "end(3i)"=>"24", "end(4i)"=>"01", "end(5i)"=>"00"}, "commit"=>"Create Restaurant"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/restaurants_controller.rb:31
  [1m[36mRestaurant Create (0.4ms)[0m  [1m[32mINSERT INTO "restaurants" ("title", "start", "end", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Bingo"], ["start", "2000-01-01 09:00:00"], ["end", "2000-01-01 01:00:00"], ["created_at", "2019-02-24 14:21:39.210764"], ["updated_at", "2019-02-24 14:21:39.210764"]]
  â†³ app/controllers/restaurants_controller.rb:31
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/restaurants_controller.rb:31
Redirected to http://localhost:3000/restaurants/1
Completed 302 Found in 15ms (ActiveRecord: 5.5ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:21:39 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.9ms)
  Rendered restaurants/show.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"tables", :id=>nil, :restaurant_id=>1}, possible unmatched constraints: [:id]):
    1: <h2>Tables</h2>
    2: <% @restaurant.tables.each do |table| %>
    3:   <p><%= table.id %>
    4:   | <%= link_to 'Show', restaurant_table_path(restaurant_id: @restaurant.id, id: table.id) %> 
    5:   | <%= link_to 'Edit', edit_restaurant_table_path(restaurant_id: @restaurant.id, id: table.id) %> 
    6:   | <%= link_to 'Destroy', [table.restaurant, table], method: :delete, data: { confirm: 'Are you sure?' } %>
    7:   </p>
  
app/views/tables/_index.html.erb:4:in `block in _app_views_tables__index_html_erb__3071983009524267794_70324838161320'
app/views/tables/_index.html.erb:2:in `_app_views_tables__index_html_erb__3071983009524267794_70324838161320'
app/views/restaurants/show.html.erb:18:in `_app_views_restaurants_show_html_erb___289068815054261697_70324838236840'
Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:22:30 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.9ms)
  Rendered tables/_form.html.erb (10.4ms)
  Rendered tables/_new.html.erb (12.0ms)
  Rendered restaurants/show.html.erb within layouts/application (19.8ms)
Completed 200 OK in 44ms (Views: 37.2ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:22:34 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.4ms)
  Rendered tables/_form.html.erb (2.2ms)
  Rendered tables/_new.html.erb (3.5ms)
  Rendered restaurants/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 47ms (Views: 41.6ms | ActiveRecord: 0.6ms)


Started POST "/restaurants/1/tables" for 127.0.0.1 at 2019-02-24 16:22:37 +0200
Processing by TablesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wHTMMWDc2279sMgRUIsVyIInuXBZoq01hDV4OJsfVSWqi1DikRO0wAcyY+ET/mHp9QOQv0PUD8k4B9GMTQTW3w==", "table"=>{"restaurant_id"=>"1"}, "commit"=>"Create Table", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/tables_controller.rb:31
  [1m[36mTable Create (1.2ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["restaurant_id", 1], ["created_at", "2019-02-24 14:22:37.129371"], ["updated_at", "2019-02-24 14:22:37.129371"]]
  â†³ app/controllers/tables_controller.rb:31
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/tables_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/1
Completed 302 Found in 20ms (ActiveRecord: 7.1ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:22:37 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.4ms)
  Rendered tables/show.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"bookings", :id=>nil, :restaurant_id=>1, :table_id=>1}, possible unmatched constraints: [:id]):
    20:         <td><%= booking.duration %></td>
    21:         <td><%= booking.user %></td>
    22:         <td><%= booking.table.id %></td>
    23:         <td><%= link_to 'Show', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    24:         <td><%= link_to 'Edit', edit_restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id) %></td>
    25:         <td><%= link_to 'Destroy', restaurant_table_booking_path(restaurant_id: @restaurant.id, table_id: @table.id, id: booking.id), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    26:       </tr>
  
app/views/bookings/_index.html.erb:23:in `block in _app_views_bookings__index_html_erb___3386413600256471174_70324721295640'
app/views/bookings/_index.html.erb:17:in `_app_views_bookings__index_html_erb___3386413600256471174_70324721295640'
app/views/tables/show.html.erb:8:in `_app_views_tables_show_html_erb___3943126097388469582_70324721353480'
Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:23:01 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.6ms)
  Rendered bookings/_form.html.erb (13.6ms)
  Rendered bookings/_new.html.erb (15.2ms)
  Rendered tables/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 50ms (Views: 40.6ms | ActiveRecord: 0.9ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:23:12 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (3.1ms)
  Rendered bookings/_form.html.erb (6.0ms)
  Rendered bookings/_new.html.erb (7.4ms)
  Rendered tables/show.html.erb within layouts/application (14.5ms)
Completed 200 OK in 54ms (Views: 44.4ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:23:15 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (2.4ms)
  Rendered tables/_form.html.erb (1.4ms)
  Rendered tables/_new.html.erb (2.3ms)
  Rendered restaurants/show.html.erb within layouts/application (7.0ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:23:23 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (2.6ms)
  Rendered bookings/_form.html.erb (8.9ms)
  Rendered bookings/_new.html.erb (10.5ms)
  Rendered tables/show.html.erb within layouts/application (17.0ms)
Completed 200 OK in 62ms (Views: 50.7ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:23:24 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.9ms)
  Rendered tables/_form.html.erb (2.5ms)
  Rendered tables/_new.html.erb (3.4ms)
  Rendered restaurants/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 54ms (Views: 42.4ms | ActiveRecord: 0.6ms)


Started POST "/restaurants/1/tables" for 127.0.0.1 at 2019-02-24 16:23:25 +0200
Processing by TablesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IgjS6mFJ3Gq8d84unjsFqsww8O5OKhSZsqX91Blu4f0fpliWGMILiqVaShSc2sgxsHOlmoM84t/CNe7iQV6sWg==", "table"=>{"restaurant_id"=>"1"}, "commit"=>"Create Table", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/tables_controller.rb:31
  [1m[36mTable Create (0.7ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["restaurant_id", 1], ["created_at", "2019-02-24 14:23:25.784762"], ["updated_at", "2019-02-24 14:23:25.784762"]]
  â†³ app/controllers/tables_controller.rb:31
  [1m[35m (6.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/tables_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/2
Completed 302 Found in 16ms (ActiveRecord: 7.4ms)


Started GET "/restaurants/1/tables/2" for 127.0.0.1 at 2019-02-24 16:23:25 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"2"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 2]]
  â†³ app/views/bookings/_index.html.erb:17
  Rendered bookings/_index.html.erb (1.4ms)
  Rendered bookings/_form.html.erb (3.5ms)
  Rendered bookings/_new.html.erb (4.2ms)
  Rendered tables/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/2" for 127.0.0.1 at 2019-02-24 16:25:00 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"2"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 2]]
  â†³ app/views/bookings/_index.html.erb:15
  Rendered bookings/_index.html.erb (3.6ms)
  Rendered bookings/_form.html.erb (6.6ms)
  Rendered bookings/_new.html.erb (8.3ms)
  Rendered tables/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 45ms (Views: 34.9ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:25:02 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (6.9ms)
  Rendered tables/_form.html.erb (3.2ms)
  Rendered tables/_new.html.erb (4.8ms)
  Rendered restaurants/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 45ms (Views: 38.0ms | ActiveRecord: 0.6ms)


Started POST "/restaurants/1/tables" for 127.0.0.1 at 2019-02-24 16:25:04 +0200
Processing by TablesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tFDnSevtm8SXyQRyfDlrCyn701LiH2OHE/XPNFfDKISJ/m01kmZMJI7kgEh+2KaQVbiGJi8JlcFjZdwCD/NlIw==", "table"=>{"restaurant_id"=>"1"}, "commit"=>"Create Table", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/tables_controller.rb:31
  [1m[36mTable Create (2.1ms)[0m  [1m[32mINSERT INTO "tables" ("restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["restaurant_id", 1], ["created_at", "2019-02-24 14:25:04.265462"], ["updated_at", "2019-02-24 14:25:04.265462"]]
  â†³ app/controllers/tables_controller.rb:31
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/tables_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/3
Completed 302 Found in 25ms (ActiveRecord: 10.2ms)


Started GET "/restaurants/1/tables/3" for 127.0.0.1 at 2019-02-24 16:25:04 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"3"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 3]]
  â†³ app/views/bookings/_index.html.erb:15
  Rendered bookings/_index.html.erb (1.4ms)
  Rendered bookings/_form.html.erb (5.3ms)
  Rendered bookings/_new.html.erb (6.3ms)
  Rendered tables/show.html.erb within layouts/application (10.0ms)
Completed 200 OK in 40ms (Views: 31.7ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:25:08 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.2ms)
  Rendered tables/_form.html.erb (1.4ms)
  Rendered tables/_new.html.erb (2.4ms)
  Rendered restaurants/show.html.erb within layouts/application (8.0ms)
Completed 200 OK in 28ms (Views: 25.4ms | ActiveRecord: 0.2ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:25:10 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:15
  Rendered bookings/_index.html.erb (2.9ms)
  Rendered bookings/_form.html.erb (5.7ms)
  Rendered bookings/_new.html.erb (7.4ms)
  Rendered tables/show.html.erb within layouts/application (14.6ms)
Completed 200 OK in 45ms (Views: 35.6ms | ActiveRecord: 0.9ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:25:54 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jxx4xFc3D7oLj61OlFf5TKu3z1lI6C/TlKubzqwus3I75jcPfWlYbza+yAbjP3Ht/VqxuguVYTr73vpAaO+5Mg==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"20", "date(5i)"=>"00", "duration"=>"60", "user"=>"Ivan", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Create (0.4ms)[0m  [1m[32mINSERT INTO "bookings" ("date", "duration", "user", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["date", "2019-02-24 20:00:00"], ["duration", 60], ["user", "Ivan"], ["table_id", 1], ["created_at", "2019-02-24 14:25:54.138047"], ["updated_at", "2019-02-24 14:25:54.138047"]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (5.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/1/bookings/1
Completed 302 Found in 16ms (ActiveRecord: 6.4ms)


Started GET "/restaurants/1/tables/1/bookings/1" for 127.0.0.1 at 2019-02-24 16:25:54 +0200
Processing by BookingsController#show as HTML
  Parameters: {"restaurant_id"=>"1", "table_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:66
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ? AND "bookings"."id" = ? LIMIT ?[0m  [["table_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:67
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:26:00 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:15
  Rendered bookings/_index.html.erb (3.9ms)
  Rendered bookings/_form.html.erb (13.0ms)
  Rendered bookings/_new.html.erb (14.5ms)
  Rendered tables/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 52ms (Views: 40.6ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:26:28 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (4.0ms)
  Rendered bookings/_form.html.erb (5.0ms)
  Rendered bookings/_new.html.erb (6.0ms)
  Rendered tables/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 42ms (Views: 32.2ms | ActiveRecord: 1.0ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:38:16 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.6ms)
  Rendered bookings/_form.html.erb (3.8ms)
  Rendered bookings/_new.html.erb (4.5ms)
  Rendered tables/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 52ms (Views: 24.3ms | ActiveRecord: 1.9ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:38:55 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Kc91xjSMMTiaoCHu7sq1a4xrXE5IBVcEIR8ZunhjLbVDMOkVxUNelmAiih6tv8FK+091gVJz9fidLbAOrniuTw==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"20", "date(5i)"=>"00", "duration"=>"30", "user"=>"Petr", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  â†³ app/models/booking.rb:12
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.1ms)
  Rendered bookings/_form.html.erb (5.6ms)
  Rendered bookings/_new.html.erb (6.6ms)
  Rendered tables/show.html.erb within layouts/application (10.5ms)
Completed 200 OK in 34ms (Views: 26.8ms | ActiveRecord: 0.8ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:39:09 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NBKotrjZSW/Npq5tEoMj70cEkcS60Pu8Pr9OPz6bLfte7TRlSRYmwTckBZ1R9lfOMCC4C6CmWUCCjeeL6ICuAQ==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"22", "date(5i)"=>"00", "duration"=>"30", "user"=>"Petr", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  â†³ app/models/booking.rb:12
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (1.7ms)
  Rendered bookings/_form.html.erb (5.2ms)
  Rendered bookings/_new.html.erb (6.1ms)
  Rendered tables/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 32ms (Views: 25.9ms | ActiveRecord: 0.7ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:39:21 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"f1Av0I8xql91BeOsytODdhUkDGShtXAD7J4k9Z92OO8Vr7MDfv7F8Y+HSFyJpvdXYgAlq7vD0v9QrI1BSW27FQ==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"25", "date(4i)"=>"22", "date(5i)"=>"00", "duration"=>"30", "user"=>"Petr", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  â†³ app/models/booking.rb:12
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.0ms)
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered bookings/_new.html.erb (5.0ms)
  Rendered tables/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/1/" for 127.0.0.1 at 2019-02-24 16:44:23 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.2ms)


  
SyntaxError (/home/sergey/Projects/reservation/app/models/booking.rb:23: embedded document meets end of file
/home/sergey/Projects/reservation/app/models/booking.rb:23: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/models/booking.rb:23: embedded document meets end of file
app/models/booking.rb:23: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/tables_controller.rb:13:in `show'
Started GET "/restaurants/1/tables/1/" for 127.0.0.1 at 2019-02-24 16:44:41 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.6ms)
  Rendered bookings/_form.html.erb (3.8ms)
  Rendered bookings/_new.html.erb (4.5ms)
  Rendered tables/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 55ms (Views: 26.9ms | ActiveRecord: 2.2ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:45:17 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SvKVuU0z1ClZ5mqf6xR6UaX2m7ePISNRQkhK8TPQrWogDQlqvPy7h6NkwW+oYQ5w0tKyeJVXga3+euNF5csukA==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"20", "date(5i)"=>"00", "duration"=>"60", "user"=>"Petr", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" WHERE "bookings"."date" = ? LIMIT ?[0m  [["date", "2019-02-24 20:00:00"], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.3ms)
  Rendered bookings/_form.html.erb (3.7ms)
  Rendered bookings/_new.html.erb (4.6ms)
  Rendered tables/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 36ms (Views: 25.5ms | ActiveRecord: 1.0ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:45:33 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"n2E/suOMtqPLuBRz8lMzNhFkkqV1dcCxnpckZIWl3lf1nqNhEkPZDTE6v4OxJkcXZkC7am8DYk0ipY3QU75drQ==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"20", "date(5i)"=>"30", "duration"=>"60", "user"=>"Petr", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" WHERE "bookings"."date" = ? LIMIT ?[0m  [["date", "2019-02-24 20:30:00"], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Create (0.2ms)[0m  [1m[32mINSERT INTO "bookings" ("date", "duration", "user", "table_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["date", "2019-02-24 20:30:00"], ["duration", 60], ["user", "Petr"], ["table_id", 1], ["created_at", "2019-02-24 14:45:33.844826"], ["updated_at", "2019-02-24 14:45:33.844826"]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
Redirected to http://localhost:3000/restaurants/1/tables/1/bookings/2
Completed 302 Found in 13ms (ActiveRecord: 5.6ms)


Started GET "/restaurants/1/tables/1/bookings/2" for 127.0.0.1 at 2019-02-24 16:45:33 +0200
Processing by BookingsController#show as HTML
  Parameters: {"restaurant_id"=>"1", "table_id"=>"1", "id"=>"2"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:66
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT  "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ? AND "bookings"."id" = ? LIMIT ?[0m  [["table_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:67
  Rendering bookings/show.html.erb within layouts/application
  Rendered bookings/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:45:35 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (6.5ms)
  Rendered bookings/_form.html.erb (6.5ms)
  Rendered bookings/_new.html.erb (8.1ms)
  Rendered tables/show.html.erb within layouts/application (19.6ms)
Completed 200 OK in 51ms (Views: 39.1ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2019-02-24 16:51:39 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2019-02-24 16:53:16 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 31ms (Views: 27.9ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2019-02-24 16:53:33 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.2ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:53:41 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (10.2ms)
  Rendered tables/_form.html.erb (2.5ms)
  Rendered tables/_new.html.erb (4.1ms)
  Rendered restaurants/show.html.erb within layouts/application (19.1ms)
Completed 200 OK in 48ms (Views: 41.0ms | ActiveRecord: 1.8ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 16:54:01 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (5.2ms)
  Rendered tables/_form.html.erb (2.1ms)
  Rendered tables/_new.html.erb (3.3ms)
  Rendered restaurants/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 42ms (Views: 36.1ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:54:09 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (4.0ms)
  Rendered bookings/_form.html.erb (4.7ms)
  Rendered bookings/_new.html.erb (5.9ms)
  Rendered tables/show.html.erb within layouts/application (12.1ms)
Completed 200 OK in 34ms (Views: 29.8ms | ActiveRecord: 0.9ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:56:27 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (3.3ms)
  Rendered bookings/_form.html.erb (4.1ms)
  Rendered bookings/_new.html.erb (5.0ms)
  Rendered tables/show.html.erb within layouts/application (10.0ms)
Completed 200 OK in 66ms (Views: 36.1ms | ActiveRecord: 2.5ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:56:28 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.1ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.8ms)
  Rendered bookings/_form.html.erb (4.7ms)
  Rendered bookings/_new.html.erb (6.1ms)
  Rendered tables/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 37ms (Views: 28.2ms | ActiveRecord: 0.9ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 16:56:29 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.4ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (6.3ms)
  Rendered bookings/_form.html.erb (6.0ms)
  Rendered bookings/_new.html.erb (7.6ms)
  Rendered tables/show.html.erb within layouts/application (18.6ms)
Completed 200 OK in 47ms (Views: 36.6ms | ActiveRecord: 1.1ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:56:50 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HrkgYzKHqqiipxHCJzHwQ4xIvXbYhZ4BGfvk/85SfBV0Rryww0jFBlglujJkRIRi+2yUucLzPP2lyU1LGEn/7w==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"24", "date(4i)"=>"21", "date(5i)"=>"00", "duration"=>"30", "user"=>"Sergey", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  â†³ app/models/booking.rb:13
  [1m[36mBooking Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" WHERE "bookings"."date" = ? LIMIT ?[0m  [["date", "2019-02-24 21:00:00"], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (4.1ms)
  Rendered bookings/_form.html.erb (4.8ms)
  Rendered bookings/_new.html.erb (5.9ms)
  Rendered tables/show.html.erb within layouts/application (12.2ms)
Completed 200 OK in 42ms (Views: 27.7ms | ActiveRecord: 1.7ms)


Started POST "/restaurants/1/tables/1/bookings" for 127.0.0.1 at 2019-02-24 16:56:58 +0200
Processing by BookingsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"m+j2B0Usi5gLns/o2A2tA/VtOnsoAV4cxEKIev0aPXTxF2rUtOPkNvEcZBibeNkigkkTtDJ3/OB4cCHOKwG+jg==", "booking"=>{"date(1i)"=>"2019", "date(2i)"=>"2", "date(3i)"=>"26", "date(4i)"=>"21", "date(5i)"=>"00", "duration"=>"30", "user"=>"Sergey", "table_id"=>"1"}, "commit"=>"Create Booking", "restaurant_id"=>"1", "table_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:27
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:28
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings"[0m
  â†³ app/models/booking.rb:13
  [1m[36mBooking Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "bookings" WHERE "bookings"."date" = ? LIMIT ?[0m  [["date", "2019-02-26 21:00:00"], ["LIMIT", 1]]
  â†³ app/controllers/bookings_controller.rb:31
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/bookings_controller.rb:31
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.7ms)
  Rendered bookings/_form.html.erb (5.6ms)
  Rendered bookings/_new.html.erb (7.1ms)
  Rendered tables/show.html.erb within layouts/application (12.4ms)
Completed 200 OK in 42ms (Views: 32.6ms | ActiveRecord: 1.4ms)


Started GET "/restaurants/1/tables/1/" for 127.0.0.1 at 2019-02-24 17:03:53 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.5ms)


  
NameError (uninitialized constant Booking::MyValidator):
  
app/models/booking.rb:3:in `<class:Booking>'
app/models/booking.rb:1:in `<main>'
app/controllers/tables_controller.rb:13:in `show'
Started GET "/restaurants/1/tables/1/" for 127.0.0.1 at 2019-02-24 17:05:56 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.5ms)


  
NameError (uninitialized constant Booking::MyValidator):
  
app/models/booking.rb:3:in `<class:Booking>'
app/models/booking.rb:1:in `<main>'
app/controllers/tables_controller.rb:13:in `show'
Started GET "/restaurants/1/tables/1/" for 127.0.0.1 at 2019-02-24 17:07:27 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.1ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (2.4ms)
  Rendered bookings/_form.html.erb (5.7ms)
  Rendered bookings/_new.html.erb (6.4ms)
  Rendered tables/show.html.erb within layouts/application (10.4ms)
Completed 200 OK in 67ms (Views: 28.7ms | ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2019-02-24 17:07:30 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.2ms)


Started GET "/restaurants/1/edit" for 127.0.0.1 at 2019-02-24 17:07:37 +0200
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/edit.html.erb within layouts/application
  Rendered restaurants/_form.html.erb (13.7ms)
  Rendered restaurants/edit.html.erb within layouts/application (17.2ms)
Completed 200 OK in 44ms (Views: 39.8ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:07:39 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.3ms)
  Rendered tables/_form.html.erb (1.7ms)
  Rendered tables/_new.html.erb (2.7ms)
  Rendered restaurants/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.4ms)


Started GET "/restaurants/1/tables/1/edit" for 127.0.0.1 at 2019-02-24 17:07:43 +0200
Processing by TablesController#edit as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/edit.html.erb within layouts/application
  Rendered tables/_form.html.erb (2.1ms)
  Rendered tables/edit.html.erb within layouts/application (116.4ms)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (undefined method `table_path' for #<#<Class:0x00007feb8e39d768>:0x00007feb8c8463e8>):
    2: 
    3: <%= render 'form', table: @table %>
    4: 
    5: <%= link_to 'Show', @table %> |
    6: <%= link_to 'Back', tables_path %>
  
app/views/tables/edit.html.erb:5:in `_app_views_tables_edit_html_erb___4230359708188596560_70324825765520'
Started GET "/routes" for 127.0.0.1 at 2019-02-24 17:08:08 +0200
  
ActionController::RoutingError (No route matches [GET] "/routes"):
  
actionpack (5.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.2) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.2) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.6) lib/rack/method_override.rb:22:in `call'
rack (2.0.6) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.2) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.6) lib/rack/sendfile.rb:111:in `call'
railties (5.2.2) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/restaurants/1/tables/1/edit" for 127.0.0.1 at 2019-02-24 17:09:55 +0200
Processing by TablesController#edit as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/edit.html.erb within layouts/application
  Rendered tables/_form.html.erb (2.8ms)
  Rendered tables/edit.html.erb within layouts/application (268.7ms)
Completed 500 Internal Server Error in 279ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (undefined local variable or method `tables_path' for #<#<Class:0x00007feb8e39d768>:0x00007feb8dea15e8>
Did you mean?  asset_path):
    3: <%= render 'form', table: @table %>
    4: 
    5: <%= link_to 'Show', restaurant_tables_path(@table) %> |
    6: <%= link_to 'Back', tables_path %>
  
app/views/tables/edit.html.erb:6:in `_app_views_tables_edit_html_erb___4230359708188596560_70324837487480'
Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:10:05 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (4.1ms)
  Rendered tables/_form.html.erb (2.1ms)
  Rendered tables/_new.html.erb (3.4ms)
  Rendered restaurants/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 39ms (Views: 32.9ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 17:10:07 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.5ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (8.0ms)
  Rendered bookings/_form.html.erb (5.9ms)
  Rendered bookings/_new.html.erb (7.6ms)
  Rendered tables/show.html.erb within layouts/application (20.5ms)
Completed 200 OK in 49ms (Views: 37.6ms | ActiveRecord: 1.4ms)


Started GET "/restaurants/1/tables/1/edit" for 127.0.0.1 at 2019-02-24 17:10:12 +0200
Processing by TablesController#edit as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/edit.html.erb within layouts/application
  Rendered tables/_form.html.erb (5.1ms)
  Rendered tables/edit.html.erb within layouts/application (169.2ms)
Completed 500 Internal Server Error in 182ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined local variable or method `tables_path' for #<#<Class:0x00007feb8e39d768>:0x00007feb8e0c0b08>
Did you mean?  asset_path):
    3: <%= render 'form', table: @table %>
    4: 
    5: <%= link_to 'Show', restaurant_tables_path(@table) %> |
    6: <%= link_to 'Back', tables_path %>
  
app/views/tables/edit.html.erb:6:in `_app_views_tables_edit_html_erb___4230359708188596560_70324838599300'
Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:10:14 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.4ms)
  Rendered tables/_form.html.erb (1.7ms)
  Rendered tables/_new.html.erb (2.7ms)
  Rendered restaurants/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 0.4ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 17:10:25 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (6.7ms)
  Rendered bookings/_form.html.erb (5.9ms)
  Rendered bookings/_new.html.erb (7.2ms)
  Rendered tables/show.html.erb within layouts/application (18.9ms)
Completed 200 OK in 54ms (Views: 42.5ms | ActiveRecord: 1.1ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:10:28 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (3.8ms)
  Rendered tables/_form.html.erb (1.5ms)
  Rendered tables/_new.html.erb (2.4ms)
  Rendered restaurants/show.html.erb within layouts/application (9.0ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/restaurants" for 127.0.0.1 at 2019-02-24 17:10:29 +0200
Processing by RestaurantsController#index as HTML
  Rendering restaurants/index.html.erb within layouts/application
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  â†³ app/views/restaurants/index.html.erb:16
  Rendered restaurants/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 60ms (Views: 56.6ms | ActiveRecord: 0.5ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:10:31 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (9.5ms)
  Rendered tables/_form.html.erb (2.7ms)
  Rendered tables/_new.html.erb (4.3ms)
  Rendered restaurants/show.html.erb within layouts/application (19.5ms)
Completed 200 OK in 51ms (Views: 42.2ms | ActiveRecord: 0.8ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 17:10:32 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.3ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (5.2ms)
  Rendered bookings/_form.html.erb (10.4ms)
  Rendered bookings/_new.html.erb (11.8ms)
  Rendered tables/show.html.erb within layouts/application (20.4ms)
Completed 200 OK in 59ms (Views: 48.4ms | ActiveRecord: 1.1ms)


Started GET "/restaurants/1/tables/1" for 127.0.0.1 at 2019-02-24 17:11:01 +0200
Processing by TablesController#show as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/show.html.erb within layouts/application
  [1m[36mBooking Load (0.2ms)[0m  [1m[34mSELECT "bookings".* FROM "bookings" WHERE "bookings"."table_id" = ?[0m  [["table_id", 1]]
  â†³ app/views/bookings/_index.html.erb:14
  Rendered bookings/_index.html.erb (5.6ms)
  Rendered bookings/_form.html.erb (9.5ms)
  Rendered bookings/_new.html.erb (11.1ms)
  Rendered tables/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 51ms (Views: 43.4ms | ActiveRecord: 0.8ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:11:02 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (4.5ms)
  Rendered tables/_form.html.erb (1.6ms)
  Rendered tables/_new.html.erb (2.9ms)
  Rendered restaurants/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 40ms (Views: 33.2ms | ActiveRecord: 0.6ms)


Started GET "/restaurants/1/tables/1/edit" for 127.0.0.1 at 2019-02-24 17:11:04 +0200
Processing by TablesController#edit as HTML
  Parameters: {"restaurant_id"=>"1", "id"=>"1"}
  [1m[36mRestaurant Load (0.1ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:65
  [1m[36mTable Load (0.2ms)[0m  [1m[34mSELECT  "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ? AND "tables"."id" = ? LIMIT ?[0m  [["restaurant_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tables_controller.rb:66
  Rendering tables/edit.html.erb within layouts/application
  Rendered tables/_form.html.erb (2.0ms)
  Rendered tables/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 34ms (Views: 30.4ms | ActiveRecord: 0.3ms)


Started GET "/restaurants/1" for 127.0.0.1 at 2019-02-24 17:11:07 +0200
Processing by RestaurantsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/restaurants_controller.rb:68
  Rendering restaurants/show.html.erb within layouts/application
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = ?[0m  [["restaurant_id", 1]]
  â†³ app/views/tables/_index.html.erb:2
  Rendered tables/_index.html.erb (5.1ms)
  Rendered tables/_form.html.erb (1.5ms)
  Rendered tables/_new.html.erb (2.9ms)
  Rendered restaurants/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 45ms (Views: 37.6ms | ActiveRecord: 0.7ms)


